worker_processes 1;

events {
  worker_connections 1024;
}


http {
  # 긴 이름의 서버 이름을 허용하기 위한 설정
  server_names_hash_bucket_size 128;
  passenger_root /var/passenger/passenger-6.0.12;
  passenger_ruby /home/ec2-user/.asdf/installs/ruby/3.1.1/bin/ruby;

  include      mime.types;
  default_type application/octet-stream;
  sendfile     on;
  keepalive_timeout 65;

  server {
    listen  80;

    server_name <EC2 인스턴스의 IPv4 퍼블릭 주소>;

    root /var/www/aws-exercise-a/public;
    passenger_enabled  on;
    passenger_app_type node;
    passenger_startup_file /var/www/aws-exercise-a/app.js;

    error_page    500 502 503 504 /50x.html;
    location = /50x.html {
      root   html;
    }
  }
}